(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a51bdcf"],{2297:function(t,e,s){"use strict";s("d39f")},5362:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"musicList"},[t.list.length>0?[s("div",{staticClass:"list-item list-header"},[s("span",{staticClass:"list-name"},[t._v("歌曲")]),s("span",{staticClass:"list-artist"},[t._v("歌手")]),1===t.listType?s("span",{staticClass:"list-time"},[t._v("时长")]):s("span",{staticClass:"list-album"},[t._v("专辑")])]),s("div",{ref:"listContent",staticClass:"list-content",on:{scroll:function(e){return t.listScroll(e)}}},[t._l(t.list,(function(e,i){return s("div",{key:e.id,staticClass:"list-item",class:{on:t.playing&&t.currentMusic.id===e.id},on:{dblclick:function(s){return t.selectItem(e,i,s)}}},[s("span",{staticClass:"list-num",domProps:{textContent:t._s(i+1)}}),s("div",{staticClass:"list-name"},[s("span",[t._v(t._s(e.name))]),s("div",{staticClass:"list-menu"},[s("mm-icon",{staticClass:"hover",attrs:{type:t.getPlayIconType(e),size:40},on:{click:function(s){return s.stopPropagation(),t.selectItem(e,i)}}})],1)]),s("span",{staticClass:"list-artist"},[t._v(t._s(e.singer))]),1===t.listType?s("span",{staticClass:"list-time"},[t._v(" "+t._s(t._f("format")(e.duration%3600))+" "),s("mm-icon",{staticClass:"hover list-menu-icon-del",attrs:{type:"delete-mini",size:40},on:{click:function(e){return e.stopPropagation(),t.deleteItem(i)}}})],1):s("span",{staticClass:"list-album"},[t._v(t._s(e.album))])])})),t._t("listBtn")],2)]:s("mm-no-result",{attrs:{title:"弄啥呢，怎么啥也没有！！！"}})],2)},n=[],a=(s("a9e3"),s("5530")),c=s("2f62"),l=s("ca00"),r=s("5af1"),o={name:"MusicList",components:{MmNoResult:r["a"]},filters:{format:l["b"]},props:{list:{type:Array,default:function(){return[]}},listType:{type:Number,default:0}},data:function(){return{lockUp:!0}},computed:Object(a["a"])({},Object(c["c"])(["playing","currentMusic"])),watch:{list:function(t,e){2===this.listType&&(t.length!==e.length||t[t.length-1].id!==e[e.length-1].id)&&(this.lockUp=!1)}},activated:function(){this.scrollTop&&this.$refs.listContent&&(this.$refs.listContent.scrollTop=this.scrollTop)},methods:Object(a["a"])({listScroll:function(t){var e=t.target.scrollTop;if(this.scrollTop=e,2===this.listType&&!this.lockUp){var s=t.target,i=s.scrollHeight,n=s.offsetHeight;e+n>=i-50&&(this.lockUp=!0,this.$emit("pullUp"))}},scrollTo:function(){this.$refs.listContent.scrollTop=0},selectItem:function(t,e,s){s&&/list-menu-icon-del/.test(s.target.className)||(this.currentMusic.id&&t.id===this.currentMusic.id?this.setPlaying(!this.playing):this.$emit("select",t,e))},getPlayIconType:function(t){var e=t.id,s=this.playing,i=this.currentMusic.id;return s&&i===e?"pause-mini":"play-mini"},deleteItem:function(t){this.$mmToast("不能删除哦")}},Object(c["d"])({setPlaying:"SET_PLAYING"}))},u=o,m=(s("2297"),s("2877")),h=Object(m["a"])(u,i,n,!1,null,"00282ac4",null);e["a"]=h.exports},"5af1":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mm-no-result"},[s("p",{staticClass:"mm-no-result-text"},[t._v(t._s(t.title))])])},n=[],a={name:"MmNoResult",props:{title:{type:String,default:""}}},c=a,l=(s("9673"),s("2877")),r=Object(l["a"])(c,i,n,!1,null,null,null);e["a"]=r.exports},"650b":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search"},[s("mm-loading",{model:{value:t.mmLoadShow,callback:function(e){t.mmLoadShow=e},expression:"mmLoadShow"}}),s("div",{staticClass:"search-head"},[t._l(t.Artists,(function(e,i){return s("span",{key:i,on:{click:function(s){return t.clickHot(e.first)}}},[t._v(" "+t._s(e.first)+" ")])})),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchValue,expression:"searchValue",modifiers:{trim:!0}}],staticClass:"search-input",attrs:{type:"text",placeholder:"音乐/歌手"},domProps:{value:t.searchValue},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onEnter(e)},input:function(e){e.target.composing||(t.searchValue=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})],2),s("music-list",{ref:"musicList",attrs:{list:t.list,"list-type":2},on:{select:t.selectItem,pullUp:t.pullUpLoad}})],1)},n=[],a=(s("99af"),s("fb6a"),s("ac1f"),s("5319"),s("96cf"),s("1da1")),c=s("2909"),l=s("5530"),r=s("2f62"),o=s("365c"),u=s("eb4d"),m=s("f904"),h=s("5362"),p=s("ac0d"),f=s("ca00"),d={name:"Search",components:{MmLoading:m["a"],MusicList:h["a"]},mixins:[p["a"]],data:function(){return{searchValue:"",Artists:[],list:[],page:0,lockUp:!0}},computed:Object(l["a"])({},Object(r["c"])(["playing","currentMusic"])),watch:{list:function(t,e){(t.length!==e.length||t[t.length-1].id!==e[e.length-1].id)&&(this.lockUp=!1)}},created:function(){var t=this;Object(o["i"])().then((function(e){var s=e.result;t.Artists=s.hots.slice(0,5),t.mmLoadShow=!1}))},methods:Object(l["a"])(Object(l["a"])({clickHot:function(t){this.searchValue=t,this.onEnter()},onEnter:function(){var t=this;""!==this.searchValue.replace(/(^\s+)|(\s+$)/g,"")?(this.mmLoadShow=!0,this.page=0,this.list.length>0&&this.$refs.musicList.scrollTo(),Object(o["h"])(this.searchValue).then((function(e){var s=e.result;t.list=Object(u["b"])(s.songs),t._hideLoad()}))):this.$mmToast("搜索内容不能为空！")},pullUpLoad:function(){var t=this;this.page+=1,Object(o["h"])(this.searchValue,this.page).then((function(e){var s=e.result;s.songs?t.list=[].concat(Object(c["a"])(t.list),Object(c["a"])(Object(u["b"])(s.songs))):t.$mmToast("没有更多歌曲啦！")}))},selectItem:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function s(){var i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,e._getMusicDetail(t.id);case 3:i=s.sent,t.image=Object(f["f"])(i),e.selectAddPlay(t),s.next=11;break;case 8:s.prev=8,s.t0=s["catch"](0),e.$mmToast("哎呀，出错啦~");case 11:case"end":return s.stop()}}),s,null,[[0,8]])})))()},_getMusicDetail:function(t){return Object(o["c"])(t).then((function(t){return t.songs[0].al.picUrl}))}},Object(r["d"])({setPlaying:"SET_PLAYING"})),Object(r["b"])(["selectAddPlay"]))},g=d,v=(s("73e3"),s("2877")),b=Object(v["a"])(g,i,n,!1,null,"a6b7aa78",null);e["default"]=b.exports},"73e3":function(t,e,s){"use strict";s("8351")},8351:function(t,e,s){},9673:function(t,e,s){"use strict";s("f045")},ac0d:function(t,e,s){"use strict";s.d(e,"a",(function(){return a}));var i=s("5530"),n=s("2f62"),a=(Object(i["a"])({},Object(n["c"])(["playing","currentMusic"])),Object(i["a"])(Object(i["a"])({selectItem:function(t,e){t.id===this.currentMusic.id&&this.playing?this.setPlaying(!1):this.selectPlay({list:this.list,index:e})}},Object(n["d"])({setPlaying:"SET_PLAYING"})),Object(n["b"])(["selectPlay"])),{data:function(){return{mmLoadShow:!0}},methods:{_hideLoad:function(){var t,e=this;clearTimeout(t),t=setTimeout((function(){e.mmLoadShow=!1}),200)}}})},d39f:function(t,e,s){},f045:function(t,e,s){}}]);
//# sourceMappingURL=chunk-0a51bdcf.9df0b307.js.map